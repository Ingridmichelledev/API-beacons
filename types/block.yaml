schemas:
  BeaconBlock:
    description: "The [`BeaconBlock`](https://github.com/ethereum/eth2.0-specs/blob/master/specs/core/0_beacon-chain.md#beaconblock) object from the Eth2.0 spec."
    allOf:
      - $ref: '#/schemas/BeaconBlockCommon'
      - type: object
        properties:
          body:
            $ref: '#/schemas/BeaconBlockBody'
  BeaconBlockHeader:
    description: "The [`BeaconBlockHeader`](https://github.com/ethereum/eth2.0-specs/blob/master/specs/core/0_beacon-chain.md#beaconblockheader) object from the Eth2.0 spec."
    allOf:
      - $ref: '#/schemas/BeaconBlockCommon'
      - type: object
        properties:
          body_root:
            type: string
            format: bytes
            pattern: "^0x[a-fA-F0-9]{64}$"
            description: "The tree hash merkle root of the `BeaconBlockBody` for the `BeaconBlock`"
  BeaconBlockCommon:
    # An abstract object to collect the common fields between the BeaconBlockHeader and the BeaconBlock objects
    type: object
    properties:
      slot:
        type: integer
        format: uint64
        description: "The slot to which this block corresponds."
      parent_root:
        type: string
        format: bytes
        pattern: "^0x[a-fA-F0-9]{64}$"
        description: "The signing merkle root of the parent `BeaconBlock`."
      state_root:
        type: string
        format: bytes
        pattern: "^0x[a-fA-F0-9]{64}$"
        description: "The tree hash merkle root of the `BeaconState` for the `BeaconBlock`."
      signature:
        type: string
        format: bytes
        pattern: "^0x[a-fA-F0-9]{192}$"
        example: "0x1b66ac1fb663c9bc59509846d6ec05345bd908eda73e670af888da41af171505cc411d61252fb6cb3fa0017b679f8bb2305b26a285fa2737f175668d0dff91cc1b66ac1fb663c9bc59509846d6ec05345bd908eda73e670af888da41af171505"
        description: "The BLS signature of the `BeaconBlock` made by the validator of the block."
  BeaconBlockBody:
    type: object
    description: "The [`BeaconBlockBody`](https://github.com/ethereum/eth2.0-specs/blob/master/specs/core/0_beacon-chain.md#beaconblockbody) object from the Eth2.0 spec."
    properties:
      randao_reveal:
        type: string
        format: byte
        pattern: "^0x[a-fA-F0-9]{192}$"
        description: "The RanDAO reveal value provided by the validator."
      eth1_data:
        title: Eth1Data
        type: object
        description: "The [`Eth1Data`](https://github.com/ethereum/eth2.0-specs/blob/master/specs/core/0_beacon-chain.md#eth1data) object from the Eth2.0 spec."
        properties:
          deposit_root:
            type: string
            format: byte
            pattern: "^0x[a-fA-F0-9]{64}$"
            description: "Root of the deposit tree."
          deposit_count:
            type: integer
            format: uint64
            description: "Total number of deposits."
          block_hash:
            type: string
            format: byte
            pattern: "^0x[a-fA-F0-9]{64}$"
            description: "Ethereum 1.x block hash."
      graffiti:
        type: string
        format: byte
        pattern: "^0x[a-fA-F0-9]{64}$"
      proposer_slashings:
        type: array
        items:
          title: ProposerSlashings
          type: object
          description: "The [`ProposerSlashing`](https://github.com/ethereum/eth2.0-specs/blob/master/specs/core/0_beacon-chain.md#proposerslashing) object from the Eth2.0 spec."
          properties:
            proposer_index:
              type: integer
              format: uint64
              description: "The index of the proposer to be slashed."
            header_1:
              $ref: '#/schemas/BeaconBlockHeader'
            header_2:
              $ref: '#/schemas/BeaconBlockHeader'
      attester_slashings:
        type: array
        items:
          title: AttesterSlashings
          type: object
          description: "The [`AttesterSlashing`](https://github.com/ethereum/eth2.0-specs/blob/master/specs/core/0_beacon-chain.md#attesterslashing) object from the Eth2.0 spec."
          properties:
            attestation_1:
              $ref: './attestation.yaml#/schemas/IndexedAttestation'
            attestation_2:
              $ref: './attestation.yaml#/schemas/IndexedAttestation'
      attestations:
        type: array
        items:
          title: Attestation
          type: object
          description: "The [`Attestation`](https://github.com/ethereum/eth2.0-specs/blob/master/specs/core/0_beacon-chain.md#attestation) object from the Eth2.0 spec."
          properties:
            aggregation_bits:
              type: string
              format: byte
              pattern: "^0x[a-fA-F0-9]+$"
              description: "Attester aggregation bits."
            custody_bits:
              type: string
              format: byte
              pattern: "^0x[a-fA-F0-9]+$"
              description: "Custody bits."
            signature:
              type: string
              format: byte
              pattern: "^0x[a-fA-F0-9]{192}$"
              description: "BLS aggregate signature."
            data:
              $ref: './attestation.yaml#/schemas/AttestationData'
      deposits:
        type: array
        items:
          title: Deposit
          type: object
          description: "The [`Deposit`](https://github.com/ethereum/eth2.0-specs/blob/master/specs/core/0_beacon-chain.md#deposit) object from the Eth2.0 spec."
          properties:
            proof:
              type: array
              description: "Branch in the deposit tree."
              items:
                type: string
                format: byte
                pattern: "^0x[a-fA-F0-9]{64}$"
              minItems: 32
              maxItems: 32
            index:
              type: integer
              format: uint64
              description: "Index in the deposit tree."
            data:
              title: DepositData
              type: object
              description: "The [`DepositData`](https://github.com/ethereum/eth2.0-specs/blob/master/specs/core/0_beacon-chain.md#depositdata) object from the Eth2.0 spec."
              properties:
                pubkey:
                  $ref: './misc.yaml#/schemas/PublicKey'
                withdrawal_credentials:
                  type: string
                  format: byte
                  pattern: "^0x[a-fA-F0-9]{64}$"
                  description: "The withdrawal credentials."
                amount:
                  type: integer
                  format: uint64
                  description: "Amount in Gwei."
                signature:
                  type: string
                  format: byte
                  pattern: "^0x[a-fA-F0-9]{192}$"
                  description: "Container self-signature."
      voluntary_exits:
        type: array
        items:
          title: VoluntaryExit
          type: object
          description: "The [`VoluntaryExit`](https://github.com/ethereum/eth2.0-specs/blob/master/specs/core/0_beacon-chain.md#voluntaryexit) object from the Eth2.0 spec."
          properties:
            epoch:
              type: integer
              format: uint64
              description: "Minimum epoch for processing exit."
            validator_index:
              type: integer
              format: uint64
              description: "Index of the exiting validator."
            signature:
              type: string
              format: byte
              pattern: "^0x[a-fA-F0-9]{192}$"
              description: "Validator signature."
      transfers:
        type: array
        items:
          title: Transfer
          type: object
          description: "The [`Transfer`](https://github.com/ethereum/eth2.0-specs/blob/master/specs/core/0_beacon-chain.md#transfer) object from the Eth2.0 spec."
          properties:
            sender:
              type: integer
              format: uint64
              description: "Sender index."
            recipient:
              type: integer
              format: uint64
              description: "Recipient index."
            amount:
              type: integer
              format: uint64
              description: "Amount in Gwei."
            fee:
              type: integer
              format: uint64
              description: "Fee in Gwei for block producer."
            slot:
              type: integer
              format: uint64
              description: "Inclusion slot."
            pubkey:
              type: string
              format: byte
              pattern: "^0x[a-fA-F0-9]{96}$"
              description: "Sender withdrawal public key."
            signature:
              type: string
              format: byte
              pattern: "^0x[a-fA-F0-9]{192}$"
              description: "Sender signature."